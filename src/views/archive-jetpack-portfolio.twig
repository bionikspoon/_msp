{% from 'macros/img.twig' import img_style %}
{% extends "base.twig" %}

{% if posts %}

   {% block content %}
      <div class="_msp-portfolio">
         {% for post in posts %}
            <article id=post-{{ post.ID }} class="mdl-card mdl-shadow--4dp _msp-portfolio__card {{ post.class }}">

               {% if post.thumbnail %}
                  <div
                     class="mdl-card__title _msp-portfolio__categories"
                     style="{{ img_style(post.thumbnail, 'summary-image') }}"
                  >
                     <p class="mdl-card__title-text">
                        {{ post.terms('jetpack-portfolio-type') | tax_links | join(',&nbsp;') }}
                     </p>
                  </div>
               {% endif %}

               <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">
                     {{ post.name }}
                  </h2>
               </div>

               <div class="mdl-card__supporting-text">
                  {{ post.get_preview(null, false, null) }}
               </div>
               <div class="mdl-card__actions mdl-card--border">
                  <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-button--accent"
                     href="{{ post.link }}"
                  >
                     {{ __('Read more') }}
                  </a>
               </div>
            </article>


         {% endfor %}

      </div>
   {% endblock %}

{% endif %}
